<table class="table table-striped">
  <thead>
  <tr>
    <th>Name</th>
    <th>Email</th>
    <th></th>
    <th> </th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let user of users | async">

    <th scope="row" *ngIf="user._id === editUserId">
      <p appEditJoke><input type="text" (keyup.enter)="edit(null); update(user); $event.stopPropagation()" class="form-control" [(ngModel)]="user.username" /></p>
    </th>
    <th scope="row" *ngIf="user._id !== editUserId" (click)="toggle(user._id)">
      <p appEditJoke>{{user.username}}</p>
    </th>

    <td *ngIf="user._id === editUserId">
      <input type="text" class="form-control" (keyup.enter)="edit(null); update(user); $event.stopPropagation()" [(ngModel)]="user.email" />
    </td>
    <td *ngIf="user._id !== editUserId">
      {{user.email}}
    </td>

    <td>
      <button type="button" class="btn btn-primary" *ngIf="user._id === editUserId"
              (click)="edit(null); update(user); $event.stopPropagation()">Save</button>
      <button type="button" class="btn btn-primary" *ngIf="user._id !== editUserId"
              (click)="edit(user._id); $event.stopPropagation()">Edit</button>
    </td>
    <td> <button type="button" class="btn btn-primary"
                 (click)="remove(user); $event.stopPropagation()">Delete</button>
    </td>
  </tr>
  </tbody>
</table>

<div class="col-4" *ngFor="let group of groups | async">
  <a [routerLink]="['/group', group._id]">
    <pm-content-box [header]="group.name">
      <div class="security-note" *ngFor="let securityNote of group.securityNotes">
        {{securityNote.name}}
      </div>
    </pm-content-box>
  </a>
</div>
